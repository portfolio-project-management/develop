{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\develop\\\\portfoliofront\\\\src\\\\pages\\\\modules\\\\components\\\\AppBarCustom.js\",\n  _s = $RefreshSig$();\nimport './AppBarCustom.css';\nimport React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport { Button } from '@mui/material';\nimport { SERVER_URL } from '../../../Link';\nimport { useCookies } from 'react-cookie';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AppBarCustom() {\n  _s();\n  const [signinCheck, setSigninCheck] = React.useState(false);\n  // const [ reload, setReload ] = React.useState(true);\n\n  const [cookies, setCookie, deleteCookie] = useCookies(\"LOGIN_MEMBER\");\n  const navigate = useNavigate();\n\n  // 페이지 이동마다 로그인 확인\n  React.useEffect(() => {\n    fetch(SERVER_URL + \"user/checkcookie\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(cookies),\n      credentials: \"include\"\n    }).then(response => response.text()).then(data => {\n      console.log(data);\n      if (data === \"정보있음\") {\n        // 로그인중\n        setSigninCheck(true);\n      }\n    }).catch(error => console.log(error));\n  }, []);\n  function handleLogout() {\n    if (cookies) {\n      fetch(SERVER_URL + \"user/logout\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(cookies),\n        credentials: \"include\"\n      }).then(response => {\n        if (response.ok) {\n          deleteCookie(\"LOGIN_MEMBER\");\n          console.log(\"로그아웃\");\n          navigate(\"/signin\");\n        }\n      }).catch(error => console.log(error));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"static\",\n    sx: {\n      bgcolor: 'black',\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      sx: {\n        display: 'flex',\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          textAlign: 'right',\n          flexGrow: 60,\n          bgcolor: 'black'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"custom_a\",\n          children: \"\\uC0AC\\uC774\\uD2B8 \\uC774\\uB984\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        sx: {\n          textAlign: 'right',\n          flexGrow: 57,\n          bgcolor: 'black'\n        },\n        children: signinCheck ? /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/signin\",\n          className: \"custom_a\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"custom_a\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(AppBarCustom, \"L9ijd70mOW9gXz28HpzF3Q7+zH4=\", false, function () {\n  return [useCookies, useNavigate];\n});\n_c = AppBarCustom;\nvar _c;\n$RefreshReg$(_c, \"AppBarCustom\");","map":{"version":3,"names":["React","AppBar","Toolbar","Typography","Button","SERVER_URL","useCookies","useNavigate","jsxDEV","_jsxDEV","AppBarCustom","_s","signinCheck","setSigninCheck","useState","cookies","setCookie","deleteCookie","navigate","useEffect","fetch","method","headers","body","JSON","stringify","credentials","then","response","text","data","console","log","catch","error","handleLogout","ok","position","sx","bgcolor","display","flexDirection","children","flex","variant","textAlign","flexGrow","href","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/user/Documents/GitHub/develop/portfoliofront/src/pages/modules/components/AppBarCustom.js"],"sourcesContent":["import './AppBarCustom.css';\r\n\r\nimport React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport { Button } from '@mui/material';\r\nimport { SERVER_URL } from '../../../Link';\r\nimport { useCookies } from 'react-cookie'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function AppBarCustom() {\r\n    const [ signinCheck, setSigninCheck ] = React.useState(false);\r\n    // const [ reload, setReload ] = React.useState(true);\r\n\r\n    const [cookies, setCookie, deleteCookie ] = useCookies(\"LOGIN_MEMBER\");\r\n\r\n    const navigate = useNavigate();\r\n\r\n    // 페이지 이동마다 로그인 확인\r\n    React.useEffect(() => {\r\n        fetch(SERVER_URL + \"user/checkcookie\", {\r\n            method:\"POST\",\r\n            headers:{\"Content-Type\":\"application/json\"},\r\n            body:JSON.stringify(cookies),\r\n            credentials: \"include\",\r\n        })\r\n        .then(response => response.text())\r\n        .then(data => {\r\n            console.log(data)\r\n            if(data === \"정보있음\"){ // 로그인중\r\n                setSigninCheck(true);\r\n            }\r\n        })\r\n        .catch(error => console.log(error))\r\n    },[])\r\n\r\n    function handleLogout(){\r\n        if(cookies){\r\n            fetch(SERVER_URL + \"user/logout\", {\r\n                method:\"POST\",\r\n                headers:{\"Content-Type\":\"application/json\"},\r\n                body:JSON.stringify(cookies),\r\n                credentials: \"include\",\r\n            })\r\n            .then(response => {\r\n                if(response.ok){\r\n                    deleteCookie(\"LOGIN_MEMBER\");\r\n                    console.log(\"로그아웃\")\r\n                    navigate(\"/signin\");\r\n                }\r\n            })\r\n            .catch(error => console.log(error))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AppBar position=\"static\" sx={{ bgcolor: 'black', display: 'flex', flexDirection: 'row' }}>\r\n            <Toolbar sx={{ display: 'flex', flex: 1 }}>\r\n                <Typography variant=\"h4\" sx={{textAlign:'right', flexGrow: 60, bgcolor: 'black'}}>\r\n                    <a href='/' className='custom_a'>사이트 이름</a>\r\n                </Typography>\r\n                <Typography variant=\"h4\" sx={{textAlign:'right',  flexGrow: 57, bgcolor: 'black' }}>\r\n                    {/* 로그인 여부에 따라 다르게 출력 */}\r\n                    {signinCheck?\r\n                    <a href='/signin' className='custom_a' onClick={handleLogout}>Logout</a>\r\n                    :\r\n                    <a href='/' className='custom_a'>Login</a>\r\n                    }\r\n                </Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}